# 14.数组
> 数组：是一种容器，可以同时存放多个数据值。

## 数组的特点
1. 数组是一个引用的数据类型。
2. 数组当中的多个数据，类型必须统一。
3. 数组长度在程序运行期间不可改变。

## 数组的初始化
> 在内存当中创建一个数组，并向其中赋予一些默认值。

**常见的初始化方式 :**
1. 动态初始化（指定长度）：在创建数组的时候，直接指定数组当中的元素个数。
2. 静态初始化（指定内容）：在创建的时候，不指定数据个数的多少，而是直接将具体的数据内容进行指定。

### 1 动态初始化
**动态初始化数组的格式 :**
```Java
数据类型[] 数组名称 = new 数据类型[数组长度];
```

*解析含义：*
* 左侧数据类型，即数组当中保存的数据，全都是统一的该类型
* 左侧的中括号，代表这是一个数组
* 左侧数组名称，即给数组取的一个名字
* 右侧的new，代表创建数组的动作
* 右侧的数据类型，必须和左侧的数据类型保持一致
* 右侧括号中的长度，即数组当中可以保存的数据个数，是一个int数字

*举例：*
```Java
public static void main(String[] args){
    // 创建一个数组，里面可以存放300个int数据
    int[] arrayA = new int[300];
    // 创建一个数组，里面可以存放10个double数据
    double arrayB = new double[10];
    // 创建一个数组，里面可以存放5个字符串
    String arrayC = new String[5];
}
```
### 2 静态初始化
**(1) 动态初始化数组的基本格式 :**
```Java
数据类型[] 数组名称 = new 数据类型[]{元素1, 元素2, ...};
```
**注意**：虽然静态初始化没有直接告诉长度，但是根据大括号里面的元素具体内容也可以推算来长度。

*举例：*
```Java
public static void main(String[] args){
    // 直接创建一个数组，里面装的全是int数字，具体为5, 15, 25
    int[] arrayA = new int[]{5, 15, 25};
    // 直接创建一个数组，用来装字符串：“Hello”, “world”, “Java”
    String[] arrayB = new String[]{“Hello”, “world”, “Java”};
}
```

**(2) 动态初始化数组的省略格式 :**
```Java
数据类型[] 数组名称 = {元素1, 元素2, ...};
```
*举例：*
```Java
public static void main(String[] args){
    // 直接创建一个数组，里面装的全是int数字
    int[] arrayA = {10, 20, 30};
}
```

### 注意事项
* 1.静态初始化没有直接指定长度，但是仍然会自动推算得到长度。
* 2.静态初始化标准格式可以拆分为两个步骤。
* 3.动态初始化也可以拆分为两个步骤。
* 4.静态初始化一旦使用省略格式，就不能拆分为两个步骤。

**使用建议**：不确定数组内容使用动态初始化，已经确定数组内容使用静态初始化。

*举例：*
```Java
public static void main(String[] args){
    // 省略格式的静态初始化
    int[] arrayA = {10, 20, 30};
    // 静态初始化的标准格式，可以拆分成为两个步骤
    int[] arrayB;
    arrayB = new int[]{11, 21, 31};
    
    // 动态初始化也可以拆分成为两个步骤
    int[] arrayC;
    arrayC = new int[5];
    
    // 静态初始化的省略格式，不能拆分成为两个步骤
    /*
    int[] arrayD;
    arrayD = {10, 20, 30};
    */
}
```

## 数组元素的访问
> 直接打印数组名称，得到的是数组对应的，内存地址哈希值。

**访问数组元素的格式**：
```Java
数组名称[索引值]
```
索引值:一个int数字，代表数组当中元素的编号。
**注意**：索引值从0开始，一直到数组的长度减一为止。

*举例：*
```Java
public static void main(String[] args){
    // 静态初始化的省略格式
    int[] arrayA = {10, 20, 30};
    // 直接打印数组当中的元素
    System.out.println(arrayA); // 输出内存地址哈希值
    System.out.println(arrayA[0]); // 输出10
    System.out.println(arrayA[1]); // 输出20
    System.out.println(arrayA[2]); // 输出30
    
    // 也可以将数组当中的某一个元素，赋值交给变量
    int num = arrayA[1];
    System.out.println(num); // 输出20
}
```

*使用动态初始化数组的时候，其中的元素将会自动拥有一个默认值规则如下* :
* 如果是整数类型，默认为0;
* 如果是浮点类型，默认为0.0;
* 如果是字符类型，默认为‘\u0000’;
* 如果是布尔类型，默认为false;
* 如果是引用类型，默认为null;

**注意事项**：静态初始化其实也有默认值的过程，只不过系统自动马上将默认值替换成为了大括号中的具体数值。
*举例：*
```Java
public static void main(String[] args){
    // 动态初始化的省略格式
    int[] arrayA = new int[3] ;
    // 直接打印数组当中的元素
    System.out.println(arrayA); // 输出内存地址值
    System.out.println(arrayA[0]); // 输出0
    System.out.println(arrayA[1]); // 输出0
    System.out.println(arrayA[2]); // 输出0
    
    //将数据123赋值给arrayA当中的1号元素
    array[1] = 123;
    System.out.println(arrayA[1]); // 输出123
}
```

## Java的内存划分
> Java的内存需要划分为**5**个部分
1. 栈(Stack):存放的都是方法中的局部变量。*方法的运行一定要在栈当中运行*。
    * 局部变量：方法的参数，或是方法{}内部的变量。
    * 作用域：一旦超出作用域，立刻从栈内存当中消失。
2. 堆(Heap):凡是 new 出来的东西，都在堆当中。
    * 堆内存里面的东西都有一个地址值：16进制。
    * 堆内存里面的数据，都有默认值，规则：
    * int：0, float:0.0, char:'\u0000', boolean:false,  引用：null.
3. 方法区(Method Area):存储 .class 相关信息，包含方法的信息。
4. 本地方法栈(Native Method Stack):与操作系统相关。
5. 寄存器(Register):与CPU相关。
## 常见异常
### 1 数组索引越界异常
  * 如果访问数组元素的时候，索引编号并不存在，那么将会发生数组索引越界异常。(ArrayIndexOutofBoundsException)
  *举例* ：
  ```Java
  public static void main(String[] args){
      int[] arrayA = {10, 20, 30};
      
      /*
      System.out.println(arrayA[3]); // 数组索引越界
      */
      System.out.println(array[2]);  // 输出30
  }  
  ```
  * 原因:索引编号写错了
  * 解决：修改成为存在的正确索引编号
### 2 数组空指针异常
  * 所有的引用数据类型变量，都可以赋值为一个null值，但是代表其中什么都没有。
  * 数组必须进行new初始化才能使用其中的元素。
  * 如果只是赋值了一个null，没有进行new创建，那么将会发生空指针异常。(NullPointerException)
  *举例* ：
  ```Java
  public static void main(String[] args){
      int[] array = null;
      array = new int[3]; // 若删去此行，则会发生空指针异常。
      System.out.println(array[0]);  // 输出0
  }  
  ``` 
  * 原因：忘了new 
  * 解决：补上new
### 3 数组一旦创建，长度在运行期间不能改变
  * 获取数组长度格式：数组名称.length
    * 这将会得到一个int数字，代表组织的长度。
    * 数组一旦创建，程序运行期间，长度不可改变。

*举例* ：
  ```Java
  public static void main(String[] args){
      int[] arrayA = new int[3];
      int[] arrayB = {1,2,3,4,5,6,7,8,9,10};
      System.out.println(arrayB.length); // 输出10

      int arrayC = new int[3];
      System.out.println(arrayC.length); // 输出3
      int arrayC = new int[5];  // 创建了一个新数组并将地址值赋给了arrayC, 原数组并未改变。
      System.out.println(arrayC.length); // 输出5
  }  
  ```  
## 遍历数组
> 遍历数组：对数组当中每一个元素逐一处理。

*举例* ：
  ```Java
  public static void main(String[] args){
      int[] array = {1,2,3,4,5,6,7,8,9,10};
      
      // 快捷方式: 数组名称.fori
      for(int i = 0; i < array.length; i++){
          System.out.println(array[i]);
      }            
  }  
  ```    

## 数组作为方法的参数/返回值
> * 一个方法可以有0, 1或者多个参数，但只有一个或零个返回值。
> * 数组若作为参数，则传递的是数组的地址值。
> * 若产生多个结果需要返回，则使用数组作为返回值。

*举例* ：
  ```Java
  public static void main(String[] args){
      int[] result = caculate(10, 20, 30);
      System.out.println("总和" + result[0]);
      System.out.println("平均值" + result[1]);
  }  

  public static int[] caculate(int a, int b, int c){
    int sum = a + b + c;
    int avg = sum / 3;
    // 两个结果都希望进行返回
    // 需要一个数组，数组可以保存多个结果
    /* 
    int[] array = new int[2];
    array[0] = sum;
    array[1] = avg;
    */
    
    int[] array = {sum, avg};
    
    return array;
  }
  ``` 
  
  >*数组作为方法的参数值，传递进去的其实是数组的地址值。
  数组作为方法的返回值，返回的其实也是数组的地址值。*