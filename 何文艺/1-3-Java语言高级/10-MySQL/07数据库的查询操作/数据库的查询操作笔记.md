**数据库的查询操作笔记**  

----------


DQL：查询表中的记录  
语法：  

    SELECT   
        字段列表  
    FROM   
        表名列表  
    WHERE   
        条件列表  
    GROUP BY   
        分组字段  
    HAVING   
        分组之后的条件  
    ORDER BY   
        排序  
    LIMIT   
        分页限定   

**一、基础查询**  
1.多个字段的查询：  

    SELECT 字段名1, 字段名2, 字段名3, ...  
    FROM 表名;   

注意：如果查询所有字段，则可以使用*来代替字段列表  

2.去除重复：  
DISTINCT关键字  

3.计算列：  
一般可以使用四则运算计算一些列的值（一般只会进行数值型的计算）  
IFNULL(exp1,exp2)：如果exp1为NULL则将其替换为exp2  

4.起别名：   
AS关键字（可省略）  

**二、条件查询**  
1.WHERE子句后跟条件   
2.运算符：  

    >、<、>=、<=、=、<>或!=  
    BETWEEN...AND  
    IN(集合)  
    LIKE  
    IS NULL / IS NOT NULL  
    AND 或 && (第二种不推荐)  
    OR 或 || (第二种不推荐)  
    NOT 或 ! (第二种不推荐)  

**三、模糊查询（LIKE）**  
占位符：  
_：单个任意字符  
%：多个任意字符  

**四、排序查询**  
1.语法：  

    ORDER BY 子句  
    ORDER BY 排序字段1 排序方式1, 排序字段2 排序方式2, 排序字段3 排序方式3, ...  

2.排序方式：  
升序（默认）：ASC   
降序：DESC  
3.如果有多个排序条件，则当前面的条件值一样时，才会判断紧挨着的后面的条件  

**五、聚合函数**  
聚合函数：将一列数据作为一个整体，进行纵向的计算  

    1.COUNT：计算个数  
        a.一般选择非空的列：主键  
        b.COUNT(*)  
    2.MAX：计算最大值  
    3.MIN：计算最小值  
    4.SUM：求和  
    5.AVG：计算平均值  

注意：聚合函数的计算会【排除】NULL值  
解决： 
a.选择不包含非空的列进行计算  
b.借助IFNULL()函数  

**六、分组查询**  
1.语法：GROUP BY 分组字段  
2.注意：  
a.分组之后查询的字段：分组字段、聚合函数  
b.【WHERE和HAVING的区别】：  
&nbsp;&nbsp;&nbsp;&nbsp;WHERE在分组之前进行限定，如果不满足条件则不参与分组；HAVING在分组之后进行限定，如果不满足结果，则不会被查询出来  
&nbsp;&nbsp;&nbsp;&nbsp;WHERE后不可以跟聚合函数，而HAVING可以进行聚合函数的判断  

**七、分页查询**  
1.语法：  

     LIMIT 开始的索引，每页查询的条数;  

2.公式：  
开始的索引 = (当前页码 - 1) * 每页显示的条数  
3.LIMIT是一个MySQL"方言"  